<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <!-- 1. å„ªåŒ–è¦–çª—è¨­å®šï¼šç¦æ­¢ç¸®æ”¾ã€é©é…ç€æµ·è¢å¹• -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- 2. PWA é—œéµè¨­å®šï¼šé€£çµ manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#f97316">

    <!-- iOS å°ˆç”¨è¨­å®š -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="å¤§é˜ªæ—…éŠ">
    
    <title>å¤§é˜ªæ—…éŠæ”»ç•¥ 2026</title>
    
    <!-- App åœ–ç¤º (iOS & ç€è¦½å™¨åˆ†é ç”¨) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ™</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ™</text></svg>">
    
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- è¨­å®š Import Map -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.263.1"
        }
    }
    </script>

    <style>
        /* è‡ªå®šç¾©æ²è»¸æ¨£å¼ */
        ::-webkit-scrollbar {
            height: 6px;
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 20px;
        }
        
        body {
            background-color: #fff7ed;
            padding-bottom: env(safe-area-inset-bottom); 
            /* ç¦æ­¢é¸å–èˆ‡é•·æŒ‰ï¼Œè®“é«”é©—åƒ App */
            -webkit-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .select-text {
            -webkit-user-select: text;
            user-select: text;
        }

        header {
            padding-top: env(safe-area-inset-top);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- React ç¨‹å¼ç¢¼é–‹å§‹ -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Plane, Train, Luggage, Camera, ShoppingBag, 
            Utensils, Moon, Ship, Star, Fish, Bird, Flame, 
            MapPin, Info, Check, Trash2, Calculator, 
            Receipt, Home, Map as MapIcon, ZoomIn, X, ChevronRight,
            MessageSquare, ShoppingCart, PlusCircle, Smartphone, ExternalLink, Bed, Coffee, Smile,
            Clock, AlertTriangle, Ticket, Image as ImageIcon, Eye
        } from 'lucide-react';

        const FIXED_RATE = 0.2085; // åŒ¯ç‡åƒè€ƒ

        const App = () => {
            const [activeTab, setActiveTab] = useState(0);
            const [checkedItems, setCheckedItems] = useState({});
            const [showTransportModal, setShowTransportModal] = useState(false);
            const [showHotelModal, setShowHotelModal] = useState(false);
            const [showMapModal, setShowMapModal] = useState(false);
            const [showCouponModal, setShowCouponModal] = useState(null);
            const [showTextModal, setShowTextModal] = useState(null);
            const [couponFilter, setCouponFilter] = useState('ALL');

            // --- è³¼ç‰©è¨ˆç®—æ©Ÿ State ---
            const [cartItems, setCartItems] = useState([]);
            const [discountType, setDiscountType] = useState('none');
            const [calcDisplay, setCalcDisplay] = useState('0');
            const [prevValue, setPrevValue] = useState(null);
            const [operator, setOperator] = useState(null);
            const [waitingForNewValue, setWaitingForNewValue] = useState(false);
            const scrollRef = useRef(null);

            useEffect(() => {
                try {
                const saved = localStorage.getItem('osakaTripProgress_v2');
                if (saved) setCheckedItems(JSON.parse(saved));
                
                const savedCart = localStorage.getItem('osakaTripCart_v2');
                if (savedCart) setCartItems(JSON.parse(savedCart));
                } catch (e) {}
            }, []);

            useEffect(() => {
                if (scrollRef.current) {
                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
                }
                try { localStorage.setItem('osakaTripCart_v2', JSON.stringify(cartItems)); } catch (e) {}
            }, [cartItems]);

            const toggleItem = (dayIndex, itemIndex) => {
                const key = `${dayIndex}-${itemIndex}`;
                const newChecked = { ...checkedItems, [key]: !checkedItems[key] };
                setCheckedItems(newChecked);
                try { localStorage.setItem('osakaTripProgress_v2', JSON.stringify(newChecked)); } catch (e) {}
            };

            const openGoogleMaps = (query) => {
                window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`, '_blank');
            };

            // --- è¨ˆç®—æ©Ÿé‚è¼¯ ---
            const inputDigit = (digit) => {
                if (waitingForNewValue) {
                setCalcDisplay(String(digit));
                setWaitingForNewValue(false);
                } else {
                setCalcDisplay(calcDisplay === '0' ? String(digit) : calcDisplay + digit);
                }
            };

            const inputDot = () => {
                if (waitingForNewValue) {
                setCalcDisplay('0.');
                setWaitingForNewValue(false);
                } else if (calcDisplay.indexOf('.') === -1) {
                setCalcDisplay(calcDisplay + '.');
                }
            };

            const clearCalc = () => {
                setCalcDisplay('0');
                setPrevValue(null);
                setOperator(null);
                setWaitingForNewValue(false);
            };

            const handleDelete = () => {
                if (waitingForNewValue) return;
                setCalcDisplay(calcDisplay.length > 1 ? calcDisplay.slice(0, -1) : '0');
            };

            const performOperation = (nextOperator) => {
                const inputValue = parseFloat(calcDisplay);
                if (prevValue === null) {
                setPrevValue(inputValue);
                } else if (operator) {
                const currentValue = prevValue || 0;
                const newValue = calculate(currentValue, inputValue, operator);
                setPrevValue(newValue);
                setCalcDisplay(String(newValue));
                }
                setWaitingForNewValue(true);
                setOperator(nextOperator);
            };

            const calculate = (prev, next, op) => {
                switch (op) {
                case '+': return prev + next;
                case '-': return prev - next;
                case 'Ã—': return prev * next;
                case 'Ã·': return prev / next;
                default: return next;
                }
            };

            const addResultToCart = () => {
                let finalValue = parseFloat(calcDisplay);
                if (operator && prevValue !== null && !waitingForNewValue) {
                finalValue = calculate(prevValue, finalValue, operator);
                }
                if (finalValue > 0) {
                setCartItems([...cartItems, Math.round(finalValue)]);
                clearCalc();
                }
            };

            const getDiscountInfo = () => {
                const basePrice = cartItems.reduce((acc, curr) => acc + curr, 0);
                const taxFreePrice = Math.round(basePrice / 1.1);
                let rate = 0; let label = "ç›®å‰åƒ¹æ ¼ (å«ç¨…)"; let color = "bg-white border-gray-200";
                
                switch(discountType) {
                case 'taxfree': rate = 0.00; label = "åƒ…å…ç¨… (Tax Free)"; color = "bg-gray-50 border-gray-400"; break;
                case 'elec': rate = 0.07; label = "å®¶é›»å„ªæƒ  (å…ç¨…+7%)"; color = "bg-red-50 border-red-200"; break;
                case 'drug': rate = 0.05; label = "è—¥å¦å„ªæƒ  (å…ç¨…+5%)"; color = "bg-green-50 border-green-200"; break;
                case 'dept': rate = 0.05; label = "ç™¾è²¨å„ªæƒ  (å…ç¨…+5%)"; color = "bg-purple-50 border-purple-200"; break;
                default: break;
                }
                
                const finalJpy = discountType === 'none' ? basePrice : Math.round(taxFreePrice * (1 - rate));
                const finalTwd = Math.round(finalJpy * FIXED_RATE);
                const savedTwd = Math.round(basePrice * FIXED_RATE) - finalTwd;
                
                return { label, finalJpy, finalTwd, savedTwd, color, basePrice };
            };

            const discountInfo = getDiscountInfo();

            const tabs = [
                { name: "Day 1", short: "D1", icon: <Plane size={18}/> },
                { name: "Day 2", short: "D2", icon: <Bird size={18}/> },
                { name: "Day 3", short: "D3", icon: <Star size={18}/> },
                { name: "Day 4", short: "D4", icon: <Camera size={18}/> },
                { name: "Day 5", short: "D5", icon: <Luggage size={18}/> },
                { name: "å„ªæƒ åˆ¸", short: "æŠ˜åƒ¹", icon: <Receipt size={18}/> },
                { name: "å¯¦ç”¨æ—¥èª", short: "æ—¥èª", icon: <MessageSquare size={18}/> },
                { name: "2026è³¼ç‰©", short: "æ¸…å–®", icon: <ShoppingCart size={18}/> },
                { name: "è¨ˆç®—æ©Ÿ", short: "è¨ˆç®—", icon: <Calculator size={18}/> }
            ];

            const itinerary = [
                {
                date: "2/11 (é€±ä¸‰)",
                title: "Day 1: æŠµé” & æ–°ä¸–ç•Œ/é˜¿å€é‡",
                transport: "å—æµ·é›»éµ (å¤©ä¸‹èŒ¶å±‹è½‰ä¹˜)",
                theme: "from-amber-600 to-yellow-500",
                alert: "å°éŠï¼šé€™ä¸­é–“æ²’æœ‰ç©ºæª”ï¼11:30è½åœ°ï¼Œåˆ°å¸‚å€å‰›å¥½æ˜¯åˆé¤èˆ‡Check-inæ™‚é–“ã€‚",
                spots: [
                    { time: "11:30", title: "é£›æ©ŸæŠµé”é—œè¥¿æ©Ÿå ´", desc: "è¡¨å®šæ™‚é–“ã€‚é€šå¸¸éœ€è¦ 1 å°æ™‚é€šé—œé ˜è¡Œæã€‚", icon: <Plane/>, mapQuery: "Kansai Airport" },
                    { time: "12:45", title: "æ­ä¹˜å—æµ·é›»éµ", desc: "è²·ç¥¨ã€ä¸Šå»æ‰€å¾Œæ­è»Šã€‚è»Šç¨‹ç´„ 40 åˆ†é˜ã€‚", icon: <Train/>, mapQuery: "Kansai Airport Station" },
                    { time: "13:40", title: "æŠµé”å¤©ä¸‹èŒ¶å±‹/æƒ ç¾é ˆç”º", desc: "è½‰ä¹˜æˆ–æ­è¨ˆç¨‹è»Šåˆ°æ°‘å®¿é™„è¿‘ã€‚æ­¤æ™‚å·²å¿«ä¸‹åˆå…©é»ã€‚", icon: <MapPin/>, mapQuery: "Tengachaya Station" },
                    { 
                    time: "14:00", title: "ã€åˆé¤ã€‘æ–°ä¸–ç•Œå¿…åƒ", 
                    isMeal: true,
                    options: [
                        { name: "å…«é‡å‹ä¸²ç‚¸", desc: "ä¸ç”¨è¶•è·¯ï¼Œæ‚ é–’åƒå¤§é˜ªåç‰©ã€‚", tag: "å°±åœ¨æ—é‚Š" },
                        { name: "åƒæ­²è‚‰å¸", desc: "åœ¨åœ°äººçš„æš–èƒƒç‰›è‚‰æ¹¯ï¼Œåªé–‹ä¸­åˆã€‚", tag: "å··å¼„ç¾é£Ÿ" }
                    ]
                    },
                    { time: "15:00", title: "æ°‘å®¿ Check-in", desc: "åƒé£½å‰›å¥½é€²æˆ¿æ”¾è¡Œæã€ç¨å¾®æ•´ç†å„€å®¹ã€‚", icon: <Bed/>, mapQuery: "e-stay ebisu Osaka" },
                    { time: "16:00", title: "é€šå¤©é–£ & æ–°ä¸–ç•Œæ•£ç­–", desc: "æ²’æœ‰è¡Œæä¸€èº«è¼•ï¼Œé€›é€›å¾©å¤è¡—é“ã€‚", icon: <Camera/>, mapQuery: "Tsutenkaku" },
                    { time: "17:30", title: "é˜¿å€é‡ HARUKAS 300", desc: "æ­¥è¡Œæˆ–åœ°éµä¸€ç«™è‡³å¤©ç‹å¯ºï¼Œæ¬£è³çµ•ç¾æ—¥è½èˆ‡å¤œæ™¯ã€‚", icon: <Moon/>, mapQuery: "Harukas 300" },
                    { 
                    time: "18:30", title: "ã€æ™šé¤å»ºè­°ã€‘å¤©ç‹å¯ºå¿…åƒ", 
                    isMeal: true,
                    options: [
                        { name: "ç‡’è‚‰ è¬é‡ (Tennoji)", desc: "è‚‰èˆ–ç›´ç‡Ÿè¶…äººæ°£ç‡’è‚‰ï¼Œè‚‰è³ªé®®ç¾ã€‚(åŸç‡’è‚‰å¹³å’Œå·²é–‰åº—)", tag: "åœ¨åœ°æ¨è–¦" },
                        { name: "åƒæˆ¿å¤§é˜ªç‡’", desc: "é˜¿å€é‡ Q's Mall åº—ï¼Œç¶“å…¸å¤§é˜ªå‘³ã€‚", tag: "ç¶“å…¸å¿…åƒ" }
                    ]
                    },
                    { time: "20:00", title: "Bic Camera é˜¿å€é‡åº—", desc: "åƒé£½å–è¶³å¾Œå»éš”å£ Q's Mall æ¬è²¨ï¼è¨˜å¾— 21:00 é—œé–€å–”ï¼", icon: <ShoppingBag/>, mapQuery: "Bic Camera Abeno Q's Mall Store" },
                    { time: "21:30", title: "å”å‰è¨¶å¾· æ–°ä¸–ç•Œåº—", desc: "å°±åœ¨é€šå¤©é–£æ—ï¼Œè²·å®Œç›´æ¥æ‰›å›æ°‘å®¿ï¼Œè¶…æ–¹ä¾¿ã€‚", icon: <ShoppingBag/>, mapQuery: "MEGA Don Quijote Shinsekai" },
                    { time: "23:00", title: "è¿”å›æ°‘å®¿ä¼‘æ¯", desc: "å”å‰è¨¶å¾·éå€‹é¦¬è·¯å°±åˆ°å®¶ï¼Œæ•´ç†æˆ°åˆ©å“æº–å‚™ç¡è¦ºã€‚", icon: <Bed/>, mapQuery: "e-stay ebisu Osaka" }
                ]
                },
                {
                date: "2/12 (é€±å››)",
                title: "Day 2: å¥ˆè‰¯é¹¿ & ç¥ç¤¾ & è²“é ­é·¹",
                transport: "è¿‘éµ + è¨ˆç¨‹è»Š (åˆ·ICOCA)",
                theme: "from-red-500 to-orange-500",
                alert: "é‡è¦ï¼šç‚ºäº†è®“è²“é ­é·¹ç©å¥½ç©æ»¿ï¼Œå¥ˆè‰¯13:30ä¸€å®šè¦é›¢é–‹å–”ï¼",
                spots: [
                    { time: "09:00", title: "å‡ºç™¼å‰å¾€å¥ˆè‰¯", desc: "å¾ã€Œè¿‘éµæ—¥æœ¬æ©‹ã€ç«™æ­å¿«é€Ÿæ€¥è¡Œç›´é”å¥ˆè‰¯(ç´„40åˆ†)ã€‚", icon: <Train/>, mapQuery: "Kintetsu-Nippombashi Station" },
                    { time: "10:00", title: "å¥ˆè‰¯å…¬åœ’ & é¤µé¹¿", desc: "é‡é»æ”¾åœ¨å…¬åœ’é¤µé¹¿æ‹ç…§ï¼Œäº«å—æ‚ é–’ä¸Šåˆã€‚", icon: <Camera/>, mapQuery: "Nara Park" },
                    { 
                    time: "12:00", title: "ã€åˆé¤å»ºè­°ã€‘å¥ˆè‰¯å•†åº—è¡—", 
                    isMeal: true,
                    options: [
                        { name: "å¿—æ´¥é¦™é‡œé£¯", desc: "è‹¥æ’éšŠå¤ªé•·å»ºè­°æ”¾æ£„ï¼Œæ”¹åƒå…¶ä»–ã€‚", tag: "è¶…äººæ°£" },
                        { name: "ä¸­è°·å ‚æ—éº»ç³¬", desc: "è²·å€‹é»å¿ƒå¸¶è‘—èµ°ï¼Œç¯€çœæ™‚é–“ã€‚", tag: "å¿…çœ‹" }
                    ]
                    },
                    { time: "13:30", title: "æ­è»Šè¿”å›å¤§é˜ªé›£æ³¢", desc: "ã€é—œéµæ™‚åˆ»ã€‘è¦è¶•å›å»ç¥ç¤¾è·Ÿè²“é ­é·¹ï¼Œé€™æ™‚é–“å¾—ä¸Šè»Šã€‚", icon: <Train/>, mapQuery: "Kintetsu Nara Station" },
                    { time: "14:30", title: "é›£æ³¢å…«é˜ªç¥ç¤¾", desc: "å·¨å¤§ç…å­é ­å¿…æ‹ï¼é›¢é›£æ³¢ç«™èµ°è·¯ç´„10åˆ†ã€‚", icon: <Camera/>, mapQuery: "Namba Yasaka Shrine" },
                    { time: "15:30", title: "æ­è»Šå‰å¾€è²“é ­é·¹å’–å•¡", desc: "ç›´æ¥æ­è¨ˆç¨‹è»Š(ç´„10åˆ†ï¼Œè»Šè³‡Â¥1200å·¦å³)ï¼Œå¤šäººåˆ†æ“”å¾ˆåˆ’ç®—ã€‚", icon: <Bird/>, mapQuery: "Happy Owl Cafe chouette Osaka" },
                    { time: "16:00", title: "Happy Owl Cafe chouette", desc: "ã€é ç´„1hrã€‘äº«å—å®Œæ•´çš„ç™‚ç™’æ™‚å…‰ï¼Œé›¶è·é›¢äº’å‹•ã€‚", icon: <Star/>, mapQuery: "Happy Owl Cafe chouette Osaka" },
                    { time: "17:30", title: "å¿ƒé½‹æ©‹ & é“é “å €", desc: "å¾å’–å•¡å»³ä¸€è·¯å¾€å—é€›ï¼Œçµ‚é»æ˜¯è·‘è·‘äººçœ‹æ¿ã€‚", icon: <ShoppingBag/>, mapQuery: "Dotonbori Glico Sign" },
                    { 
                    time: "18:00", title: "ã€æ™šé¤å»ºè­°ã€‘ç‡’è‚‰ä¹‹å¤œ", 
                    isMeal: true,
                    options: [
                        { name: "ç‡’è‚‰åŠ›ä¸¸ (é›£æ³¢é“é “å €åº—)", desc: "æ¨è–¦ï¼å°±åœ¨è·‘è·‘äººçœ‹æ¿æ—ï¼Œé€›å®Œç›´æ¥åƒã€‚", tag: "ä¸ç”¨èµ°å›é ­è·¯" },
                        { name: "åœ‹ç”¢ç‰›ç‡’è‚‰ Aburiya", desc: "éœ€æå‰é ç´„ï¼Œè‚‰è³ªä½³ã€‚", tag: "é«˜è©•åƒ¹" }
                    ]
                    },
                    { time: "20:00", title: "Bic Camera é›£æ³¢åº—", desc: "åƒé£½æ•£æ­¥å»é€›é›»å™¨ï¼å°±åœ¨åƒæ—¥å‰é€šï¼Œæ³¨æ„ 21:00 é—œé–€ã€‚", icon: <ShoppingBag/>, mapQuery: "Bic Camera Namba Store" },
                    { time: "22:00", title: "è¿”å›æ°‘å®¿ä¼‘æ¯", desc: "åƒé£½å¾é›£æ³¢ç«™æ­åœ°éµ(æ—¥æœ¬æ©‹â†’æƒ ç¾é ˆç”º)æˆ–è¨ˆç¨‹è»Šå›æ°‘å®¿ï¼Œé¤Šç²¾è“„éŠ³ã€‚", icon: <Bed/>, mapQuery: "e-stay ebisu Osaka" }
                ]
                },
                {
                date: "2/13 (é€±äº”)",
                title: "Day 3: USJ ç’°çƒå½±åŸå…¨æ—¥",
                transport: "JR ç’°ç‹€ç·š (è¥¿ä¹æ¢è½‰ä¹˜)",
                theme: "from-blue-600 to-indigo-600",
                alert: "é‡é»ï¼šæ—©èµ·ï¼æ—©èµ·ï¼æ—©èµ·ï¼",
                spots: [
                    { time: "06:30", title: "å‡ºç™¼ï¼", desc: "å¾æ–°ä»Šå®®æ­JRç’°ç‹€ç·šåˆ°è¥¿ä¹æ¢ï¼Œè½‰å¤¢å’²ç·šã€‚", icon: <Star/>, mapQuery: "Universal City Station" },
                    { time: "07:30", title: "æ’éšŠå…¥åœ’", desc: "é€šå¸¸æ¯”å…¬å‘Šæ™‚é–“ææ—©é–‹é–€ï¼Œè¡ç‘ªåˆ©æ­æˆ–å“ˆåˆ©æ³¢ç‰¹ã€‚", icon: <Check/>, mapQuery: "USJ" },
                    { 
                    time: "12:30", title: "ã€åˆé¤ã€‘åœ’å€å…§è¦“é£Ÿ", 
                    isMeal: true,
                    options: [
                        { name: "å¥‡è«¾æ¯”å¥§å’–å•¡", desc: "è¶…ç´šç‘ªåˆ©æ­å€ï¼Œéœ€æ•´ç†åˆ¸ã€‚", tag: "è¶…å¯æ„›" },
                        { name: "ä¸‰æ ¹æƒå¸š", desc: "å“ˆåˆ©æ³¢ç‰¹å€ï¼Œçƒ¤é›å¥½åƒã€‚", tag: "æ°£æ°›ä½³" }
                    ]
                    },
                    { time: "19:00", title: "æ¬£è³å¤œé–“éŠè¡Œ", desc: "ä¾ç•¶æ—¥å®˜ç¶²æ™‚é–“ç‚ºæº–ã€‚", icon: <Flame/>, mapQuery: "USJ" },
                    { 
                    time: "20:30", title: "ã€æ™šé¤å»ºè­°ã€‘CityWalk æˆ–å›å¸‚å€", 
                    isMeal: true,
                    options: [
                        { name: "Shake Shack", desc: "åœ’å€å¤–ç¾å¼æ¼¢å ¡ï¼Œå¿«é€Ÿå¥½åƒã€‚", tag: "ç¾å¼" },
                        { name: "é³¥è²´æ—", desc: "å›æ°‘å®¿é™„è¿‘åƒå¹³åƒ¹ä¸²ç‡’ã€‚", tag: "å±…é…’å±‹" }
                    ]
                    },
                    { time: "22:00", title: "è…¿å»¢æ‰å›æ°‘å®¿", desc: "æ­è¨ˆç¨‹è»Šå›æ°‘å®¿ç´„ Â¥5000ï¼Œå¤šäººåˆ†æ“”å¾ˆåˆ’ç®—ã€‚", icon: <Bed/>, mapQuery: "e-stay ebisu Osaka" }
                ]
                },
                {
                date: "2/14 (é€±å…­)",
                title: "Day 4: å¤§é˜ªåŸèˆ‡æ¢…ç”°ç¹è¯",
                transport: "åœ°éµ (å»ºè­°è²·ä¸€æ—¥åˆ¸)",
                theme: "from-green-600 to-emerald-500",
                alert: "æ³¨æ„ï¼šæ¢…ç”°æ˜¯ Yodobashi çš„åœ°ç›¤(ç„¡Bic Camera)ï¼Œè‹¥å …æŒç”¨å„ªæƒ åˆ¸è«‹æ”¹å»é›£æ³¢åº—ã€‚",
                spots: [
                    { time: "10:00", title: "å¤§é˜ªåŸå¤©å®ˆé–£", desc: "åœ°éµæ£®ä¹‹å®®æˆ–è°·ç”ºå››ä¸ç›®ç«™ã€‚å»ºè­°å…ˆå»æ›å¾¡åº§èˆ¹çš„ç¥¨ã€‚", icon: <Camera/>, mapQuery: "Osaka Castle" },
                    { time: "11:30", title: "å¤§é˜ªåŸå¾¡åº§èˆ¹", desc: "æ­ä¹˜é»ƒé‡‘èˆ¹éŠè­·åŸæ²³ï¼Œå¾æ°´é¢æ¬£è³çŸ³å£(ç´„20åˆ†é˜)ã€‚", icon: <Ship/>, mapQuery: "Osaka Castle Gozabune Pier" },
                    { 
                    time: "12:30", title: "ã€åˆé¤å»ºè­°ã€‘JO-TERRACE", 
                    isMeal: true,
                    options: [
                        { name: "å¾—æ­£å’–å“©çƒé¾éºµ", desc: "å¤§é˜ªåŸå…¬åœ’åº—ï¼Œæ¿ƒéƒå¥½åƒã€‚", tag: "çƒé¾éºµ" },
                        { name: "Gram é¬†é¤…", desc: "é™å®šåšé¬†é¤…ï¼Œå…¬åœ’åº—ç‡Ÿæ¥­ä¸­ã€‚", tag: "ç”œé»" }
                    ]
                    },
                    { time: "14:30", title: "æ¢…ç”°å•†åœˆ (LUCUA/å¤§ä¸¸)", desc: "ä»»å¤©å ‚ä¸­å¿ƒ(å¤§ä¸¸13F)ã€é€›è¡—æˆ°å€ã€‚", icon: <ShoppingBag/>, mapQuery: "Daimaru Umeda" },
                    { time: "16:00", title: "Yodobashi Camera æ¢…ç”°", desc: "å°±åœ¨è»Šç«™æ—ï¼é›–ç„¶ä¸èƒ½ç”¨Bicåˆ¸ï¼Œä½†æ¯”Bicæ›´å¤§é–“ï¼Œè¶…ç´šå¥½é€›ã€‚", icon: <ShoppingBag/>, mapQuery: "Yodobashi Camera Multimedia Umeda" },
                    { time: "18:00", title: "æ¢…ç”°è—å¤©å¤§å»ˆ", desc: "ç©ºä¸­åº­åœ’å±•æœ›å°ï¼Œçœ‹å¤œæ™¯ã€‚", icon: <Moon/>, mapQuery: "Umeda Sky Building" },
                    { 
                    time: "20:00", title: "ã€æ™šé¤å»ºè­°ã€‘æ¢…ç”°ç¾é£Ÿ", 
                    isMeal: true,
                    options: [
                        { name: "é­šå¿ƒå£½å¸ (Uoshin)", desc: "æ–™æ¯”é£¯å¤§ä¸‰å€ï¼å·¨ç„¡éœ¸å£½å¸è¶…æ»¿è¶³ã€‚(åŸé¾œå£½å¸ç¸½æœ¬åº—å·²é–‰åº—)", tag: "å¤§ä»½é‡é¦–é¸" },
                        { name: "Kijji (ãã˜) å¤§é˜ªç‡’", desc: "æ¢…ç”°è—å¤©å¤§å»ˆB1ï¼Œè€åº—ã€‚", tag: "æ’éšŠååº—" }
                    ]
                    },
                    { time: "22:00", title: "è¿”å›æ°‘å®¿ä¼‘æ¯", desc: "æ­åœ°éµè°·ç”ºç·šè½‰å ºç­‹ç·š(å—æ£®ç”ºè½‰ä¹˜)å›æƒ ç¾é ˆç”ºï¼Œæ•´ç†è¡Œææº–å‚™æ˜å¤©é€€æˆ¿ã€‚", icon: <Bed/>, mapQuery: "e-stay ebisu Osaka" }
                ]
                },
                {
                date: "2/15 (é€±æ—¥)",
                title: "Day 5: å¸‚å ´æ—©é¤èˆ‡ Outlet",
                transport: "å—æµ·é›»éµ",
                theme: "from-orange-400 to-yellow-400",
                spots: [
                    { time: "09:00", title: "æœ¨æ´¥å¸‚å ´", desc: "é›¢æ°‘å®¿å¾ˆè¿‘ï¼Œèµ°è·¯å»åƒæµ·é®®ä¸¼ã€‚", icon: <Fish/>, mapQuery: "Kizu Market" },
                    { time: "11:00", title: "é€€æˆ¿ & å‰å¾€æ©Ÿå ´æ–¹å‘", desc: "æ­å—æµ·é›»éµå‰å¾€è‡¨ç©ºåŸã€‚", icon: <Train/>, mapQuery: "Rinku Town Station" },
                    { time: "12:00", title: "è‡¨ç©ºåŸ Outlet", desc: "è¡Œæå¯„æ”¾è»Šç«™æˆ–éŠå®¢ä¸­å¿ƒï¼Œæœ€å¾Œè¡åˆºã€‚", icon: <ShoppingBag/>, mapQuery: "Rinku Premium Outlets" },
                    { time: "17:00", title: "å‰å¾€æ©Ÿå ´", desc: "æ­ä¸€ç«™é›»è»Šå³é”é—œè¥¿æ©Ÿå ´ã€‚", icon: <Plane/>, mapQuery: "Kansai Airport" },
                    { time: "18:30", title: "ç­æ©Ÿèµ·é£›", desc: "å¹³å®‰å›å®¶ï¼", icon: <Smile/>, mapQuery: "KIX" }
                ]
                }
            ];

            const coupons = [
                { id: 1, name: "Bic Camera", discount: "10% + 7%", type: "é›»å™¨", locations: ["é›£æ³¢", "å¤©ç‹å¯º", "æ¢…ç”°"], img: "bic.jpg" },
                { id: 2, name: "æ„›é›»ç‹ EDION", discount: "10% + 7%", type: "é›»å™¨", locations: ["é›£æ³¢", "é“é “å €"], img: "edion.jpg" },
                { id: 3, name: "æ¾æœ¬æ¸…", discount: "10% + 3-7%", type: "è—¥å¦", locations: ["å¿ƒé½‹æ©‹", "æ¢…ç”°", "å¤©ç‹å¯º"], img: "matsukiyo.jpg" },
                { id: 4, name: "å¤§ä¸¸ç™¾è²¨", discount: "5% OFF", type: "ç™¾è²¨", locations: ["å¿ƒé½‹æ©‹", "æ¢…ç”°"], img: "daimaru.jpg" },
                { id: 5, name: "SUGI æ‰è—¥å±€", discount: "10% + 4-8%", type: "è—¥å¦", locations: ["é“é “å €", "æ–°ä¸–ç•Œ"], img: "sugi.jpg" },
                { id: 6, name: "YAMADA é›»æ©Ÿ", discount: "10% + 7%", type: "é›»å™¨", locations: ["é›£æ³¢"], img: "yamada.jpg" }
            ];

            const maps = [
                { name: "JR è¥¿æ—¥æœ¬è·¯ç·šåœ–", link: "https://www.westjr.co.jp/global/tc/timetable/pdf/map_kansai.pdf", img: "map_jr.jpg", color: "bg-blue-50 border-blue-200 text-blue-800" },
                { name: "å¤§é˜ªåœ°éµè·¯ç·šåœ–", link: "https://subway.osakametro.co.jp/en/guide/routemap.php", img: "map_metro.jpg", color: "bg-red-50 border-red-200 text-red-800" },
                { name: "å—æµ·é›»éµè·¯ç·šåœ–", link: "https://www.nankai.co.jp/traffic/railmap.html", img: "map_nankai.jpg", color: "bg-orange-50 border-orange-200 text-orange-800" }
            ];

            const jpPhrases = [
                {
                    category: "äº¤é€š / è¨ˆç¨‹è»Š (å¾€USJå¿…å‚™)",
                    items: [
                        { tw: "è«‹è¼‰æˆ‘å»æ°‘å®¿ (çµ¦å¸æ©Ÿçœ‹åœ°å€)ã€‚", jp: "ã“ã®ä½æ‰€ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ï¼šã€’556-0003 å¤§é˜ªåºœå¤§é˜ªå¸‚æµªé€ŸåŒºæµç¾é ˆè¥¿2-9-18", roma: "Osaka-shi Naniwa-ku Ebisunishi 2-9-18" },
                        { tw: "è«‹è¼‰æˆ‘å€‘å»ç’°çƒå½±åŸï¼Œè«‹èµ°é«˜é€Ÿå…¬è·¯ã€‚", jp: "ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒ»ã‚¹ã‚¿ã‚¸ã‚ªãƒ»ã‚¸ãƒ£ãƒ‘ãƒ³ã¾ã§ã€é«˜é€Ÿé“è·¯ã‚’ä½¿ã£ã¦ãŠé¡˜ã„ã—ã¾ã™ã€‚", roma: "USJ made, kousoku o tsukatte onegaishimasu." },
                        { tw: "è«‹è¼‰æˆ‘å»è²“é ­é·¹å’–å•¡(é•·å €æ©‹)ã€‚", jp: "é•·å €æ©‹ã®ã€Œãƒ•ã‚¯ãƒ­ã‚¦ã‚«ãƒ•ã‚§ chouetteã€ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚", roma: "Nagahoribashi no Fukurou Cafe chouette made onegaishimasu." },
                        { tw: "è«‹å•å¤šå°‘éŒ¢ï¼Ÿ", jp: "ã„ãã‚‰ã§ã™ã‹ï¼Ÿ", roma: "Ikura desu ka?" }
                    ]
                },
                {
                    category: "ä½å®¿ / é£¯åº—",
                    items: [
                        { tw: "æˆ‘è¦è¾¦ç†å…¥ä½ã€‚", jp: "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚", roma: "Chekkuin o onegaishimasu." },
                        { tw: "å¯ä»¥å…ˆå¯„æ”¾è¡Œæå—ï¼Ÿ", jp: "è·ç‰©ã‚’é ã‹ã£ã¦ã‚‚ã‚‰ãˆã¾ã™ã‹ï¼Ÿ", roma: "Nimotsu o azukatte moraemasu ka?" },
                        { tw: "è«‹å• Wi-Fi å¯†ç¢¼æ˜¯ï¼Ÿ", jp: "Wi-Fiã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚", roma: "Wi-Fi no pasuwaado o oshiete kudasai." }
                    ]
                },
                {
                    category: "é¤å»³é€²åº— / å€™ä½",
                    items: [
                        { tw: "è«‹å•ç¾åœ¨æœ‰ä½å­å—ï¼Ÿ", jp: "ã„ã¾å¸­ã¯ç©ºã„ã¦ã„ã¾ã™ã‹ï¼Ÿ", roma: "Ima seki wa aite imasu ka?" },
                        { tw: "æ²’é ç´„å¯æ’éšŠå—ï¼Ÿå¤§ç´„ç­‰å¤šä¹…ï¼Ÿ", jp: "äºˆç´„ã—ã¦ã„ã¾ã›ã‚“ãŒã€ä¸¦ã¹ã¾ã™ã‹ï¼Ÿå¾…ã¡æ™‚é–“ã¯ã©ã®ãã‚‰ã„ã§ã™ã‹ï¼Ÿ", roma: "Yoyaku shite imasen ga, narabemasu ka? Machijikan wa donokurai desu ka?" },
                        { tw: "æˆ‘å€‘æœ‰ 3 ä½ã€‚", jp: "3äººã§ã™ã€‚", roma: "Sannin desu." },
                        { tw: "æœ‰ä¸­æ–‡èœå–®å—ï¼Ÿ", jp: "ä¸­å›½èªã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", roma: "Chuugokugo no menyu wa arimasu ka?" }
                    ]
                },
                {
                    category: "é»é¤ / çµå¸³",
                    items: [
                        { tw: "æˆ‘è¦é»é€™å€‹ (æŒ‡èœå–®)ã€‚", jp: "ã“ã‚Œã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚", roma: "Kore o onegaishimasu." },
                        { tw: "è«‹çµ¦æˆ‘æ°´ã€‚", jp: "ãŠæ°´ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚", roma: "Omizu o onegaishimasu." },
                        { tw: "æˆ‘è¦çµå¸³ã€‚", jp: "ãŠä¼šè¨ˆã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚", roma: "Okaikei o onegaishimasu." }
                    ]
                },
                {
                    category: "è³¼ç‰© / é€€ç¨…",
                    items: [
                        { tw: "å¯ä»¥å…ç¨…å—ï¼Ÿ", jp: "å…ç¨ã§ãã¾ã™ã‹ï¼Ÿ", roma: "Menzei dekimasu ka?" },
                        { tw: "è«‹åˆ†é–‹åŒ…è£ã€‚", jp: "åˆ¥ã€…ã«åŒ…ã‚“ã§ãã ã•ã„ã€‚", roma: "Betsubetsu ni tsutsunde kudasai." },
                        { tw: "æˆ‘æœ‰å„ªæƒ åˆ¸ã€‚", jp: "ã‚¯ãƒ¼ãƒãƒ³ã‚’æŒã£ã¦ã„ã¾ã™ã€‚", roma: "Kuupon o motte imasu." },
                        { tw: "(USJ) è«‹å°‡çˆ†ç±³èŠ±èˆ‡æ¡¶å­åˆ†é–‹è£ã€‚", jp: "ãƒãƒƒãƒ—ã‚³ãƒ¼ãƒ³ã¨ãƒã‚±ãƒ„ã¯åˆ¥ã€…ã«ã—ã¦ãã ã•ã„ã€‚", roma: "Poppukoon to baketsu wa betsubetsu ni shite kudasai." }
                    ]
                }
            ];

            const shoppingList = [
                {
                    category: "è—¥å¦æ€¥æ•‘ (Medicine)",
                    color: "bg-blue-50 border-blue-200",
                    items: [
                        { name: "æ–°éœ²éœ²é‡‘è‰² DX", jpName: "æ–°ãƒ«ãƒ«Aã‚´ãƒ¼ãƒ«ãƒ‰DX", desc: "ç¶œåˆæ„Ÿå†’è—¥ï¼Œç³–è¡£éŒ å¥½ååš¥ï¼Œç„¡è‹¦å‘³ã€‚" },
                        { name: "é¾è§’æ•£é¡†ç²’/å™´éœ§", jpName: "é¾è§’æ•£ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ", desc: "å–‰åš¨ä¸é©é¦–é¸ã€‚å¤œç”¨å™´éœ§å¯é‡å°å¤œå’³ã€‚" },
                        { name: "Roihi-Tsuboko ç©´ä½è²¼å¸ƒ", jpName: "ãƒ­ã‚¤ãƒ’ã¤ã¼è†", desc: "é‡‘è‰²EXç‰ˆ(è…°ç—›)ã€é»‘è‰²ç‰ˆ(é‡åº¦ç— ç—›)ã€‚" },
                        { name: "å¤ªç”°èƒƒæ•£ S (å‡ç´šç‰ˆ)", jpName: "å¤ªç”°èƒƒæ•£", desc: "æ·»åŠ æ¶ˆåŒ–é…µç´ ï¼Œåˆ¶é…¸èƒ½åŠ›æå‡ï¼Œåˆ†åŒ…è£æ–¹ä¾¿ã€‚" },
                        { name: "Minon æ°¨åŸºé…¸ç³»åˆ—", jpName: "ãƒŸãƒãƒ³ ã‚¢ãƒŸãƒãƒ¢ã‚¤ã‚¹ãƒˆ", desc: "ä¿æ¿•ä¹³æ¶²èˆ‡æ€¥æ•‘é¢è†œï¼Œæ•æ„Ÿè‚Œæ›å­£æ•‘æ˜Ÿã€‚" },
                        { name: "UHA éµ+è‘‰é…¸è»Ÿç³–", jpName: "UHA ã‚°ãƒŸã‚µãƒ—ãƒª é‰„ï¼†è‘‰é…¸", desc: "ç¡¬å£æ„Ÿè»Ÿç³–ï¼Œå¥³æ€§ç”Ÿç†æœŸè£œçµ¦é¦–é¸ã€‚" },
                        { name: "KOWA Q&P ç–²å‹å›å¾©éŒ ", jpName: "ã‚­ãƒ¥ãƒ¼ãƒ”ãƒ¼ã‚³ãƒ¼ãƒ¯ã‚´ãƒ¼ãƒ«ãƒ‰Î±", desc: "æ¶ˆé™¤ç–²å‹ç¥å™¨ï¼Œ120éŒ è£é©åˆå›¤è²¨ã€‚" }
                    ]
                },
                {
                    category: "3C å®¶é›» (Electronics)",
                    color: "bg-gray-50 border-gray-200",
                    items: [
                        { name: "Panasonic æŒä¸Šå‹åˆ®é¬åˆ€", jpName: "ãƒ©ãƒ ãƒ€ãƒƒã‚·ãƒ¥ ãƒ‘ãƒ¼ãƒ ã‚¤ãƒ³", desc: "Type-C å……é›»ï¼Œå¤–å‹å¦‚è€³æ©Ÿç›’æ™‚å°šï¼Œå…¨æ©Ÿæ°´æ´—ã€‚" },
                        { name: "Yaman é ­çš®æŒ‰æ‘©å™¨", jpName: "ãƒ¤ãƒ¼ãƒãƒ³ ãƒ˜ãƒƒãƒ‰ã‚¹ãƒ‘", desc: "é«˜éšæ¬¾(ç´…å¤–ç·š+6çˆª)ï¼Œæ·±å±¤æŠ“æ‰é ­çš®è‚©é ¸ã€‚" },
                        { name: "Ricoh GR IIIx/IV", jpName: "ãƒªã‚³ãƒ¼ GR III", desc: "è¡—æ‹ç¥å™¨ï¼Œç†±é–€æ¶æ‰‹è²¨ã€‚" },
                        { name: "Fujifilm é›»æ± ", jpName: "å¯Œå£«ãƒ•ã‚¤ãƒ«ãƒ  ãƒãƒƒãƒ†ãƒªãƒ¼", desc: "åƒ¹å·®å·¨å¤§(ç´„å°å¹£780 vs 2400)ï¼Œå¤§å®¹é‡å¿…å›¤ã€‚" },
                        { name: "MagSafe ç£å¸æ”¯æ¶", jpName: "MagSafe ã‚¹ã‚¿ãƒ³ãƒ‰", desc: "å¼·åŠ›å¸é™„é‡‘å±¬é¢ï¼ŒéŒ„å½±è‡ªæ‹ç¥å™¨ã€‚" }
                    ]
                },
                {
                    category: "ç©¿æ­èˆ‡ä¼´æ‰‹ç¦® (Style & Gifts)",
                    color: "bg-pink-50 border-pink-200",
                    items: [
                        { name: "GU/Uniqlo éš±è—å¥½ç‰©", jpName: "ãƒ¦ãƒ‹ã‚¯ãƒ­ / GU", desc: "Barrel Leg é…’æ¡¶è¤²ã€æ•´ä»¶ç™¼ç†±è¤²ã€è¯åé ˜å¸¶ã€‚" },
                        { name: "Press Butter Sand", jpName: "ãƒ—ãƒ¬ã‚¹ãƒã‚¿ãƒ¼ã‚µãƒ³ãƒ‰", desc: "å¹´ç¯€/å­£ç¯€é™å®šå£å‘³å¿…è²·ã€‚" },
                        { name: "Nintendo/Pokemon", jpName: "ä»»å¤©å ‚ / ãƒã‚±ãƒ¢ãƒ³", desc: "çš®å…‹æ•å¤–å¥—ã€å‰ä¼Šå¡å“‡è¯åå•†å“ã€‚" },
                        { name: "æ˜æ²»é ‚ç´šè† åŸè›‹ç™½ç²‰", jpName: "ã‚¢ãƒŸãƒã‚³ãƒ©ãƒ¼ã‚²ãƒ³ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ", desc: "ç´…è‰²ç‰ˆï¼Œæ·»åŠ  NMN æŠ—è€å› å­ã€‚" }
                    ]
                }
            ];

            const filteredCoupons = coupons.filter(c => couponFilter === 'ALL' || c.locations.some(loc => loc.includes(couponFilter)));

            return (
                <div className="max-w-lg mx-auto min-h-screen bg-gray-50 pb-24 font-sans shadow-2xl relative">
                {/* Header */}
                <header className="bg-gradient-to-r from-red-600 to-orange-500 text-white p-5 sticky top-0 z-40 border-b-4 border-yellow-400 shadow-md">
                    <div className="flex justify-between items-center">
                    <div>
                        <h1 className="text-2xl font-black italic tracking-tighter flex items-center gap-2">
                        OSAKA 2026 <span className="text-yellow-300 text-sm bg-black/20 px-2 rounded">PRO</span>
                        </h1>
                        <p className="text-xs font-bold opacity-80 mt-1">è³‡æ·±å°éŠä¿®è¨‚ç‰ˆ v2.5</p>
                    </div>
                    <div className="flex gap-2">
                        <button onClick={() => setShowHotelModal(true)} className="p-2 bg-white/20 rounded-lg hover:bg-white/30"><Home size={20}/></button>
                        <button onClick={() => setShowMapModal(true)} className="p-2 bg-white/20 rounded-lg hover:bg-white/30"><MapIcon size={20}/></button>
                        <button onClick={() => setShowTransportModal(true)} className="p-2 bg-white/20 rounded-lg hover:bg-white/30"><Train size={20}/></button>
                    </div>
                    </div>
                </header>

                {/* Tabs */}
                <div className="flex overflow-x-auto gap-2 p-3 sticky top-[84px] z-30 bg-gray-50/95 backdrop-blur-md border-b border-gray-200">
                    {tabs.map((tab, idx) => (
                    <button
                        key={idx}
                        onClick={() => setActiveTab(idx)}
                        className={`flex-shrink-0 px-4 py-2 rounded-full text-xs font-black transition-all border-2 flex items-center gap-1
                        ${activeTab === idx ? 'bg-red-600 text-white border-red-700 scale-105 shadow-md' : 'bg-white text-gray-500 border-gray-200'}`}
                    >
                        {tab.icon} {tab.short}
                    </button>
                    ))}
                </div>

                <main className="px-4 mt-2">
                    {activeTab < 5 ? (
                    // --- è¡Œç¨‹é¡¯ç¤º ---
                    <div className="bg-white rounded-3xl shadow-xl overflow-hidden border-2 border-gray-100 mb-8">
                        <div className={`p-6 bg-gradient-to-br ${itinerary[activeTab].theme} text-white`}>
                        <div className="flex justify-between items-start">
                            <div>
                            <h2 className="text-3xl font-black mb-1">{itinerary[activeTab].date}</h2>
                            <p className="text-lg font-bold opacity-90">{itinerary[activeTab].title}</p>
                            </div>
                            <div className="text-[10px] bg-black/20 p-2 rounded-xl backdrop-blur-sm border border-white/20 max-w-[120px]">
                            <Train size={12} className="inline mr-1"/> {itinerary[activeTab].transport}
                            </div>
                        </div>
                        {itinerary[activeTab].alert && (
                            <div className="mt-3 bg-white/20 p-2 rounded-lg text-xs font-bold flex items-start gap-1">
                            <Info size={14} className="shrink-0 mt-0.5"/> {itinerary[activeTab].alert}
                            </div>
                        )}
                        </div>
                        
                        <div className="p-4 space-y-6 relative">
                        <div className="absolute left-8 top-10 bottom-10 w-0.5 bg-dashed bg-gray-200"></div>
                        {itinerary[activeTab].spots.map((spot, idx) => {
                            const isChecked = checkedItems[`${activeTab}-${idx}`];
                            if (spot.isMeal) {
                            return (
                                <div key={idx} className="relative z-10 flex gap-4">
                                <div className="w-10 h-10 rounded-full flex items-center justify-center bg-orange-100 text-orange-600 border-2 border-orange-200 shrink-0 shadow-sm">
                                    <Utensils size={18}/>
                                </div>
                                <div className="flex-1 bg-orange-50/50 p-4 rounded-2xl border-2 border-orange-100 shadow-sm">
                                    <h4 className="font-black text-orange-800 flex items-center gap-2 mb-3 text-sm">{spot.title}</h4>
                                    <div className="grid grid-cols-1 gap-3">
                                    {spot.options.map((opt, oIdx) => (
                                        <div key={oIdx} className="bg-white p-3 rounded-xl border border-orange-100 cursor-pointer active:scale-95 transition-transform" onClick={() => openGoogleMaps(opt.name)}>
                                        <div className="flex justify-between items-center mb-1">
                                            <span className="font-black text-xs text-gray-800">{opt.name}</span>
                                            <span className="text-[8px] font-black bg-orange-500 text-white px-1.5 py-0.5 rounded">{opt.tag}</span>
                                        </div>
                                        <p className="text-[10px] text-gray-500 leading-tight">{opt.desc}</p>
                                        </div>
                                    ))}
                                    </div>
                                </div>
                                </div>
                            );
                            }
                            return (
                            <div key={idx} className="flex gap-4 relative z-10">
                                <button onClick={() => toggleItem(activeTab, idx)} className={`w-10 h-10 rounded-full flex items-center justify-center border-2 shadow-sm shrink-0 transition-colors ${isChecked ? 'bg-green-500 border-green-600 text-white' : 'bg-white border-gray-200 text-gray-400'}`}>
                                {isChecked ? <Check size={20}/> : spot.icon}
                                </button>
                                <div className={`flex-1 p-4 rounded-2xl border-2 transition-all cursor-pointer ${isChecked ? 'bg-gray-50 border-gray-100 opacity-60' : 'bg-white border-orange-50 shadow-sm'}`} onClick={() => openGoogleMaps(spot.mapQuery)}>
                                <div className="flex justify-between items-center mb-1">
                                    <span className="text-[10px] font-black bg-gray-700 text-white px-2 py-0.5 rounded-md">{spot.time}</span>
                                    <MapPin size={14} className="text-blue-500" />
                                </div>
                                <h3 className="font-black text-gray-800 leading-tight text-sm">{spot.title}</h3>
                                <p className="text-[11px] text-gray-500 mt-1 leading-relaxed">{spot.desc}</p>
                                </div>
                            </div>
                            );
                        })}
                        </div>
                    </div>
                    ) : activeTab === 5 ? (
                    // --- å„ªæƒ åˆ¸ ---
                    <div className="space-y-4 pb-20">
                        <div className="bg-yellow-400 p-4 rounded-3xl text-red-900 font-black shadow-lg">
                        <h2 className="text-xl flex items-center gap-2"><Receipt/> å„ªæƒ åˆ¸ç¯©é¸</h2>
                        <div className="flex gap-2 mt-3 overflow-x-auto">
                            {['ALL', 'é›£æ³¢', 'å¿ƒé½‹æ©‹', 'æ¢…ç”°', 'æ–°ä¸–ç•Œ'].map(loc => (
                            <button key={loc} onClick={() => setCouponFilter(loc)} className={`shrink-0 px-4 py-1 rounded-full text-xs transition ${couponFilter === loc ? 'bg-red-600 text-white' : 'bg-white text-gray-600'}`}>{loc}</button>
                            ))}
                        </div>
                        </div>
                        {filteredCoupons.map(coupon => (
                        <div key={coupon.id} className="bg-white p-3 rounded-2xl border-2 border-gray-100 shadow-sm flex gap-4">
                            <div className="w-24 h-24 bg-gray-100 rounded-xl flex items-center justify-center border border-gray-200 shrink-0 cursor-pointer" onClick={() => setShowCouponModal(coupon.img)}>
                            {/* ä¿®æ”¹ï¼šé¡¯ç¤ºé è¦½åœ–æˆ–åœ–ç¤º */}
                            <ImageIcon size={32} className="text-gray-300"/>
                            </div>
                            <div className="flex-1 flex flex-col justify-center">
                            <div className="flex justify-between items-start">
                                <h3 className="font-black text-gray-800 text-sm mb-1">{coupon.name}</h3>
                                <span className="text-[10px] bg-gray-100 px-1 rounded text-gray-500">{coupon.type}</span>
                            </div>
                            <div className="text-red-600 font-black text-lg">{coupon.discount}</div>
                            <div className="text-[10px] text-gray-400 mt-1 flex flex-wrap gap-1">
                                {coupon.locations.map(l => <span key={l} className="bg-gray-50 px-1 rounded">{l}</span>)}
                            </div>
                            </div>
                        </div>
                        ))}
                    </div>
                    ) : activeTab === 6 ? (
                    // --- å¯¦ç”¨èª ---
                    <div className="space-y-4 pb-20">
                        {jpPhrases.map((cat, idx) => (
                        <div key={idx} className="bg-white rounded-3xl border-2 border-indigo-50 overflow-hidden shadow-sm">
                            <div className="bg-indigo-50 p-3 font-black text-indigo-700 text-sm flex items-center gap-2">
                            <MessageSquare size={16}/> {cat.category}
                            </div>
                            <div className="divide-y divide-gray-100">
                            {cat.items.map((item, i) => (
                                <div key={i} className="p-4 hover:bg-gray-50 transition cursor-pointer" onClick={() => setShowTextModal(item.jp)}>
                                <div className="text-sm font-bold text-gray-800 mb-1">{item.tw}</div>
                                <div className="text-xs text-blue-600 font-medium mb-0.5">{item.jp}</div>
                                <div className="text-[10px] text-gray-400 italic">{item.roma}</div>
                                </div>
                            ))}
                            </div>
                        </div>
                        ))}
                    </div>
                    ) : activeTab === 7 ? (
                    // --- è³¼ç‰©æ¸…å–® ---
                    <div className="space-y-4 pb-20">
                        {shoppingList.map((cat, idx) => (
                        <div key={idx} className={`rounded-3xl border-2 overflow-hidden shadow-sm ${cat.color} bg-white`}>
                            <div className="p-3 font-black text-gray-700 text-sm flex items-center gap-2 border-b border-gray-100">
                            <ShoppingCart size={16}/> {cat.category}
                            </div>
                            <div className="p-2 space-y-2">
                            {cat.items.map((item, i) => (
                                <div key={i} className="flex items-start gap-3 bg-white/60 p-2 rounded-xl">
                                <input type="checkbox" className="mt-1 w-4 h-4 accent-red-500"/>
                                <div>
                                    <div className="text-sm font-bold text-gray-800">{item.name}</div>
                                    {item.jpName && <div className="text-[10px] text-blue-600 font-bold bg-blue-50 inline-block px-1 rounded mb-1">{item.jpName}</div>}
                                    <div className="text-xs text-gray-500">{item.desc}</div>
                                </div>
                                </div>
                            ))}
                            </div>
                        </div>
                        ))}
                    </div>
                    ) : activeTab === 8 ? (
                    // --- è¨ˆç®—æ©Ÿ ---
                    <div className="bg-white rounded-3xl shadow-2xl p-5 border-2 border-emerald-100 min-h-[600px] flex flex-col mb-10">
                        <h2 className="text-xl font-black text-emerald-700 flex items-center gap-2 mb-4"><Calculator size={24}/> è³¼ç‰©è¨ˆç®—æ©Ÿ</h2>
                        <div className="bg-gray-900 text-white p-5 rounded-2xl text-right mb-4 shadow-inner">
                        <div className="text-4xl font-mono font-bold truncate">{calcDisplay}</div>
                        </div>
                        
                        {/* è¨ˆç®—æ©Ÿéµç›¤ */}
                        <div className="grid grid-cols-4 gap-2 mb-4">
                        <button onClick={clearCalc} className="p-4 bg-gray-200 rounded-xl font-bold text-red-600 active:bg-gray-300">AC</button>
                        <button onClick={handleDelete} className="p-4 bg-gray-200 rounded-xl font-bold active:bg-gray-300"><X size={18} className="mx-auto"/></button>
                        <button onClick={() => performOperation('Ã·')} className="p-4 bg-orange-100 text-orange-600 rounded-xl font-bold text-xl active:bg-orange-200">Ã·</button>
                        <button onClick={() => performOperation('Ã—')} className="p-4 bg-orange-100 text-orange-600 rounded-xl font-bold text-xl active:bg-orange-200">Ã—</button>
                        {[7,8,9].map(n => <button key={n} onClick={() => inputDigit(n)} className="p-4 bg-gray-50 rounded-xl font-bold text-xl active:bg-gray-200">{n}</button>)}
                        <button onClick={() => performOperation('-')} className="p-4 bg-orange-100 text-orange-600 rounded-xl font-bold text-xl active:bg-orange-200">-</button>
                        {[4,5,6].map(n => <button key={n} onClick={() => inputDigit(n)} className="p-4 bg-gray-50 rounded-xl font-bold text-xl active:bg-gray-200">{n}</button>)}
                        <button onClick={() => performOperation('+')} className="p-4 bg-orange-100 text-orange-600 rounded-xl font-bold text-xl active:bg-orange-200">+</button>
                        {[1,2,3].map(n => <button key={n} onClick={() => inputDigit(n)} className="p-4 bg-gray-50 rounded-xl font-bold text-xl active:bg-gray-200">{n}</button>)}
                        <button onClick={() => performOperation('=')} className="p-4 bg-emerald-500 text-white rounded-xl font-bold text-xl shadow-lg row-span-2 active:bg-emerald-600 active:scale-95 transition">=</button>
                        <button onClick={() => inputDigit(0)} className="col-span-2 p-4 bg-gray-50 rounded-xl font-bold text-xl active:bg-gray-200">0</button>
                        <button onClick={inputDot} className="p-4 bg-gray-50 rounded-xl font-bold text-xl active:bg-gray-200">.</button>
                        </div>

                        <button onClick={addResultToCart} className="w-full py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-xl mb-4 active:scale-95 flex items-center justify-center gap-2 transition"><PlusCircle size={20}/> åŠ å…¥æ¸…å–®</button>
                        
                        {/* æŠ˜æ‰£æŒ‰éˆ•ç¾¤ */}
                        <div className="flex gap-2 mb-4 overflow-x-auto pb-1">
                        {[
                            {id: 'none', label: 'åŸåƒ¹'},
                            {id: 'taxfree', label: 'å…ç¨…'},
                            {id: 'drug', label: 'è—¥å¦ 15%'},
                            {id: 'elec', label: 'é›»å™¨ 17%'},
                            {id: 'dept', label: 'ç™¾è²¨ 5%'}
                        ].map(type => (
                            <button 
                            key={type.id}
                            onClick={() => setDiscountType(type.id)}
                            className={`px-3 py-2 rounded-lg text-xs font-bold whitespace-nowrap border ${discountType === type.id ? 'bg-emerald-100 border-emerald-500 text-emerald-800' : 'bg-white border-gray-200 text-gray-500'}`}
                            >
                            {type.label}
                            </button>
                        ))}
                        </div>

                        {/* æ¸…å–®é¡¯ç¤º */}
                        <div className="flex-1 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200 overflow-hidden flex flex-col min-h-[150px]">
                        <div className="p-3 text-[10px] font-black text-gray-400 border-b flex justify-between bg-white"><span>SHOPPING CART ({cartItems.length})</span><button onClick={() => setCartItems([])} className="text-red-400">CLEAR</button></div>
                        <div className="flex-1 overflow-y-auto p-3 space-y-2" ref={scrollRef}>
                            {cartItems.map((item, i) => (
                            <div key={i} className="flex justify-between items-center bg-white p-2 rounded-xl shadow-sm border border-gray-100"><span className="font-mono font-bold text-emerald-700 text-sm">Â¥ {item.toLocaleString()}</span><button onClick={() => setCartItems(cartItems.filter((_, idx) => idx !== i))} className="text-gray-300 hover:text-red-500"><X size={16}/></button></div>
                            ))}
                        </div>
                        </div>

                        {/* ç¸½çµç®— */}
                        <div className={`mt-4 p-4 rounded-2xl border-2 transition-all ${discountInfo.color}`}>
                        <div className="flex justify-between items-end">
                            <div>
                            <div className="text-[10px] font-black opacity-50 mb-1 uppercase">{discountInfo.label}</div>
                            <div className="text-sm font-bold text-gray-600">Â¥ {discountInfo.finalJpy.toLocaleString()}</div>
                            </div>
                            <div className="text-right">
                            {discountInfo.savedTwd > 0 && <div className="text-[10px] font-black text-red-500 mb-1">çœä¸‹ç´„ NT$ {discountInfo.savedTwd.toLocaleString()}</div>}
                            <div className="text-2xl font-black text-gray-900 tracking-tighter"><span className="text-base">NT$</span> {discountInfo.finalTwd.toLocaleString()}</div>
                            </div>
                        </div>
                        </div>
                    </div>
                    ) : null}
                </main>

                {/* --- Modals --- */}
                {/* æ”¾å¤§æ–‡å­— Modal (çµ¦å¸æ©Ÿçœ‹) */}
                {showTextModal && (
                    <div className="fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-6 cursor-pointer" onClick={() => setShowTextModal(null)}>
                    <div className="text-center w-full px-4">
                        <p className="text-white text-3xl md:text-5xl font-black leading-tight mb-8 whitespace-pre-wrap select-text">{showTextModal}</p>
                        <p className="text-gray-500 text-sm animate-pulse">(é»æ“Šä»»æ„è™•é—œé–‰)</p>
                    </div>
                    </div>
                )}

                {/* å„ªæƒ åˆ¸ Barcode Modal (æ”¯æ´åœ–ç‰‡) */}
                {showCouponModal && (
                    <div className="fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-6" onClick={() => setShowCouponModal(null)}>
                    <div className="relative w-full max-w-sm">
                        <div className="bg-white p-4 rounded-3xl text-center shadow-2xl">
                            {/* ä¿®æ”¹ï¼šé¡¯ç¤ºçœŸå¯¦åœ–ç‰‡ */}
                            <img 
                                src={showCouponModal} 
                                alt="Coupon" 
                                className="w-full h-auto rounded-lg mb-4 object-contain max-h-[70vh]"
                                onError={(e) => {
                                    e.target.style.display = 'none';
                                    e.target.nextSibling.style.display = 'flex';
                                }}
                            />
                            {/* åœ–ç‰‡è¼‰å…¥å¤±æ•—æ™‚é¡¯ç¤ºæ›¿ä»£å…§å®¹ */}
                            <div className="hidden w-full aspect-square bg-gray-100 rounded-2xl flex-col items-center justify-center mb-4 text-gray-400">
                                <ImageIcon size={48} className="mb-2"/>
                                <span className="text-xs">åœ–ç‰‡è¼‰å…¥ä¸­æˆ–æœªä¸Šå‚³</span>
                                <span className="text-[10px] mt-1 font-mono">{showCouponModal}</span>
                            </div>
                            
                            <p className="font-black text-gray-800 text-base">çµå¸³å‰è«‹å‡ºç¤ºæ­¤ç•«é¢</p>
                        </div>
                        <button className="absolute -top-12 right-0 text-white"><X size={32}/></button>
                    </div>
                    </div>
                )}

                {/* äº¤é€šå»ºè­° Modal (æ•´åˆèˆŠç‰ˆç¥¨åˆ¸å»ºè­°) */}
                {showTransportModal && (
                    <div className="fixed inset-0 bg-black/80 z-[100] p-6 flex items-center justify-center" onClick={() => setShowTransportModal(false)}>
                    <div className="bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-y-auto max-h-[80vh]" onClick={e => e.stopPropagation()}>
                        <h3 className="text-xl font-black mb-4 flex items-center gap-2 text-blue-600"><Train size={24}/> äº¤é€šæ”»ç•¥</h3>
                        <div className="space-y-4 text-sm leading-relaxed text-gray-600">
                            <div className="p-4 bg-green-50 rounded-2xl border border-green-100">
                                <p className="font-bold text-green-800 mb-1 flex items-center gap-2"><Ticket size={16}/> Day 4 è²·ä»€éº¼ç¥¨ï¼Ÿ</p>
                                <p>é€±å…­å»å¤§é˜ªåŸèˆ‡æ¢…ç”°ï¼Œè«‹è³¼è²·<strong>ã€Œå¤§é˜ªåœ°éµä¸€æ—¥åˆ¸ (Enjoy Eco Card)ã€</strong>(å‡æ—¥ç‰ˆåƒ… Â¥620ï¼Œè¶…åˆ’ç®—ï¼)ã€‚</p>
                                <p className="text-red-500 text-xs mt-1 font-bold">âš ï¸ ä¸éœ€è²·å¤§é˜ªå‘¨éŠå¡(Â¥3300)ï¼Œå› ç‚ºæ™šä¸Šå»æ¢…ç”°è—å¤©å¤§å»ˆçœ‹å¤œæ™¯ä¸å…è²»ï¼Œåè€Œä¸åˆ’ç®—ã€‚</p>
                            </div>
                            <div className="p-4 bg-blue-50 rounded-2xl border border-blue-100">
                                <p className="font-bold text-blue-800 mb-1">ICOCA (è¥¿ç“œå¡)</p>
                                <p>Day 1 (æ©Ÿå ´)ã€Day 2 (å¥ˆè‰¯)ã€Day 3 (USJ)ã€Day 5 (æ©Ÿå ´) å…¨éƒ¨ç›´æ¥åˆ· ICOCA æœ€æ–¹ä¾¿ï¼</p>
                            </div>
                            <div className="p-4 bg-red-50 rounded-2xl border border-red-100">
                                <p className="font-bold text-red-800 mb-1 flex items-center gap-2"><Clock size={16}/> è¡Œç¨‹æé†’</p>
                                <p>D1 æŠµé”æ™‚é–“å°·å°¬ï¼Œå»ºè­°åœ¨å¸‚å€åƒå¥½æ–™å† Check-inï¼Œä¸è¦ç›´æ¥è¡å¥ˆè‰¯(æ™‚é–“ä¸å¤ )ã€‚</p>
                            </div>
                        </div>
                        <button onClick={() => setShowTransportModal(false)} className="w-full mt-6 py-4 bg-gray-900 text-white rounded-2xl font-black">å®Œå…¨ç†è§£ï¼</button>
                    </div>
                    </div>
                )}

                {/* ä½å®¿ Modal (æ•´åˆèˆŠç‰ˆå‘¨é‚Šå°èˆª) */}
                {showHotelModal && (
                    <div className="fixed inset-0 bg-black/80 z-[100] p-6 flex items-center justify-center" onClick={() => setShowHotelModal(false)}>
                    <div className="bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl" onClick={e => e.stopPropagation()}>
                        <h3 className="text-xl font-black mb-4 flex items-center gap-2 text-indigo-600"><Home size={24}/> ä½å®¿èˆ‡å‘¨é‚Š</h3>
                        <div className="p-4 bg-gray-50 rounded-2xl border border-gray-200 mb-4">
                            <h4 className="font-black text-lg">e-stay ebisu Osaka</h4>
                            <p className="text-gray-500 text-sm mt-1">æƒ ç¾é ˆç”ºç«™æ­¥è¡Œ 2 åˆ†é˜</p>
                            <hr className="my-3"/>
                            <p className="text-xs text-gray-400">å‡ºé–€å·¦è½‰å°±æ˜¯é€šå¤©é–£ï¼Œç”Ÿæ´»æ©Ÿèƒ½æ¥µä½³ã€‚</p>
                        </div>
                        
                        <div className="grid grid-cols-1 gap-3">
                            <button onClick={() => openGoogleMaps("e-stay ebisu Osaka")} className="py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm flex items-center justify-center gap-2">
                                <MapPin size={16}/> å°èˆªå›æ°‘å®¿
                            </button>
                            {/* ä¿®æ”¹ï¼šæ›´æ–°é¡¯ç¤ºåœ°å€ç‚ºå®Œæ•´æ—¥æ–‡åœ°å€ */}
                            <button onClick={() => setShowTextModal("ã€’556-0003\nå¤§é˜ªåºœå¤§é˜ªå¸‚æµªé€ŸåŒºæµç¾é ˆè¥¿2-9-18\ne-stay ebisu Osaka")} className="py-3 bg-indigo-50 text-indigo-700 rounded-xl font-bold text-sm">
                                é¡¯ç¤ºåœ°å€ (çµ¦å¸æ©Ÿçœ‹)
                            </button>
                            <div className="grid grid-cols-2 gap-3 mt-2">
                                <button onClick={() => openGoogleMaps("Super Tamade Ebisucho")} className="py-3 bg-yellow-400 text-yellow-900 rounded-xl font-bold text-sm flex flex-col items-center justify-center gap-1">
                                    <ShoppingBag size={16}/> <span>ç‰å‡ºè¶…å¸‚</span>
                                    <span className="text-[10px] opacity-75">24Hä¾¿å®œ</span>
                                </button>
                                <button onClick={() => openGoogleMaps("Osaka Kizu Wholesale Market")} className="py-3 bg-blue-500 text-white rounded-xl font-bold text-sm flex flex-col items-center justify-center gap-1">
                                    <Fish size={16}/> <span>æœ¨æ´¥å¸‚å ´</span>
                                    <span className="text-[10px] opacity-75">åœ¨åœ°æ—©å¸‚</span>
                                </button>
                            </div>
                        </div>
                        <button onClick={() => setShowHotelModal(false)} className="w-full mt-4 py-3 text-gray-400 font-bold text-sm">é—œé–‰</button>
                    </div>
                    </div>
                )}

                {/* åœ°åœ–é€£çµ Modal (æ•´åˆèˆŠç‰ˆåœ°åœ–åˆ—è¡¨) */}
                {showMapModal && (
                    <div className="fixed inset-0 bg-black/80 z-[100] p-6 flex items-center justify-center" onClick={() => setShowMapModal(false)}>
                    <div className="bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl relative">
                        <h3 className="text-xl font-black mb-4 flex items-center gap-2 text-green-700"><MapIcon size={24}/> äº¤é€šè·¯ç·šåœ–</h3>
                        
                        <div className="space-y-3">
                            {maps.map((map, idx) => (
                                /* ä¿®æ”¹ï¼šå°‡ <a> æ”¹ç‚º <div> ä»¥æ”¯æ´åœ–ç‰‡å½ˆçª—èˆ‡é€£çµä¸¦å­˜ */
                                <div key={idx} className={`p-4 rounded-xl border-2 flex items-center justify-between ${map.color}`}>
                                    {/* å·¦å´ï¼šé»æ“Šé–‹å•Ÿåœ–ç‰‡å½ˆçª— */}
                                    <div 
                                        className="flex items-center gap-3 flex-1 cursor-pointer" 
                                        onClick={() => setShowCouponModal(map.img)}
                                    >
                                        <MapIcon size={20}/>
                                        <span className="font-bold">{map.name}</span>
                                        <div className="flex items-center text-[10px] bg-white/50 px-2 py-0.5 rounded-full ml-2">
                                            <Eye size={10} className="mr-1"/> æŸ¥çœ‹åœ–ç‰‡
                                        </div>
                                    </div>
                                    
                                    {/* å³å´ï¼šé»æ“Šé–‹å•Ÿå¤–éƒ¨é€£çµ */}
                                    <a href={map.link} target="_blank" className="p-2 -mr-2 text-current opacity-50 hover:opacity-100" title="é–‹å•Ÿå®˜æ–¹ PDF">
                                        <ExternalLink size={20}/>
                                    </a>
                                </div>
                            ))}
                        </div>

                        <div className="mt-6 p-3 bg-gray-50 rounded-xl text-xs text-gray-500 border border-gray-200">
                            <Info size={14} className="inline mr-1 mb-0.5"/>
                            é»æ“Šå·¦å´æ–‡å­—å¯ç›´æ¥æŸ¥çœ‹å·²ä¸‹è¼‰çš„åœ–ç‰‡ï¼Œé»æ“Šå³å´ç®­é ­å¯é–‹å•Ÿå®˜æ–¹ PDFã€‚
                        </div>

                        <button onClick={() => setShowMapModal(false)} className="bg-gray-100 px-6 py-3 rounded-xl font-bold w-full mt-4 text-gray-500">é—œé–‰</button>
                    </div>
                    </div>
                )}
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
